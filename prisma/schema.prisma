// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
    id                  Int                 @id @default(autoincrement())
    uuid                String              @default(uuid())
    createdAt           DateTime            @default(now())
    updatedAt           DateTime            @updatedAt
    firstName           String
    authentication      Authentication    @relation("Auth", fields: [authenticationId], references: [id], onDelete: Cascade)
    authenticationId    Int
}

model Authentication {
    id                          Int         @id @default(autoincrement())
    uuid                        String      @default(uuid())
    createdAt                   DateTime    @default(now())
    updatedAt                   DateTime    @updatedAt
    roles                       Role[]
    emailAddress                String      @unique
    password                    String
    isEmailConfirmed            Boolean     @default(false)
    currentHashedRefreshToken   String?
    user                        User?      @relation("Auth")
}

enum Role {
  SUSPENSION
  USER
  ADMIN
}